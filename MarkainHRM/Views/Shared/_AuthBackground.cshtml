@* 
    REFINED 3D Green Wave Background 
    - Using simpler, more robust SVG shapes.
    - Explicit z-indexing and transparency fixes.
*@

<!-- DEBUG_MARKER: WAVE_V3 -->
<div id="auth-background" class="fixed inset-0 z-0 overflow-hidden pointer-events-none select-none bg-[#020617]" aria-hidden="true">
    <svg class="absolute inset-0 w-full h-full" preserveAspectRatio="none" viewBox="0 0 1440 800" xmlns="http://www.w3.org/2000/svg" style="opacity: 0.8;">
        <defs>
            <linearGradient id="wave-grad-1" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#10B981" stop-opacity="0.8" />
                <stop offset="100%" stop-color="#064E3B" stop-opacity="0.9" />
            </linearGradient>
            <linearGradient id="wave-grad-2" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#34D399" stop-opacity="0.5" />
                <stop offset="100%" stop-color="#065F46" stop-opacity="0.7" />
            </linearGradient>
        </defs>

        <!-- Dynamic Layered Waves -->
        <g class="wave-group">
            <path class="wave-path wp-1" d="M0,450 Q360,350 720,450 T1440,450 V800 H0 Z" fill="url(#wave-grad-1)" />
            <path class="wave-path wp-2" d="M0,550 Q360,650 720,550 T1440,550 V800 H0 Z" fill="url(#wave-grad-2)" style="opacity: 0.6;" />
            <path class="wave-path wp-3" d="M0,650 Q360,550 720,650 T1440,650 V800 H0 Z" fill="#047857" style="opacity: 0.3;" />
        </g>
    </svg>

    <!-- Futuristic Scanner Lines -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="scanner-line"></div>
    </div>
</div>

<style>
    .wave-path {
        animation: wave-float 12s ease-in-out infinite alternate;
    }
    .wp-1 { animation-duration: 15s; }
    .wp-2 { animation-duration: 20s; animation-delay: -5s; }
    .wp-3 { animation-duration: 12s; animation-delay: -2s; }

    @@keyframes wave-float {
        from { transform: translateY(0) scaleY(1); }
        to { transform: translateY(-40px) scaleY(1.1); }
    }

    .scanner-line {
        position: absolute;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, transparent, #34D399, transparent);
        box-shadow: 0 0 15px #10B981;
        opacity: 0.2;
        animation: scan 10s linear infinite;
    }

    @@keyframes scan {
        from { top: -10%; }
        to { top: 110%; }
    }

    /* Dark base for contrast */
    #auth-background {
        background: linear-gradient(to bottom, #020617, #064E3B);
    }
</style>
